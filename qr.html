<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>QR Generator – IRIA 2025 Stall Grid</title>

<!-- QR library -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>

<style>
  body {
    font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    background:#020617;
    color:#eaf7ff;
    margin:0;
    padding:40px 20px;
  }

  h1 {
    text-align:center;
    font-size:1.8rem;
    margin-bottom:10px;
    color:#f1f5f9;
  }
  h2 {
    text-align:center;
    opacity:0.85;
    margin-bottom:30px;
    font-weight:400;
  }

  .qr-grid {
    max-width:1100px;
    margin:0 auto;
    display:grid;
    grid-template-columns:repeat(auto-fit, minmax(240px, 1fr));
    gap:24px;
  }

  .qr-card {
    background:rgba(255,255,255,0.12);
    backdrop-filter:blur(12px) saturate(160%);
    border:1px solid rgba(255,255,255,0.25);
    border-radius:16px;
    padding:18px;
    text-align:center;
    box-shadow:0 10px 28px rgba(0,0,0,0.35);
  }

  canvas {
    width:200px !important;
    height:200px !important;
    margin-bottom:10px;
  }

  .stall-label {
    font-size:1.1rem;
    font-weight:700;
    margin-bottom:6px;
  }

  .download-btn {
    margin-top:10px;
    padding:8px 14px;
    border-radius:10px;
    background:#8bbcea;
    border:none;
    color:#042a3a;
    font-weight:700;
    cursor:pointer;
  }
</style>
</head>

<body>

<h1>IRIA 2025 – Stall QR Generator</h1>
<h2>Static exhibitor QR → links to <br> https://cmcvellore-iria.github.io/stall-grid/?stall=XX</h2>

<div class="qr-grid" id="qrGrid"></div>

<script>
/* -----------------------------------
   CONFIG
------------------------------------ */
const TOTAL_STALLS = 35;
const BASE_URL = "https://cmcvellore-iria.github.io/stall-grid/?stall=";

/* -----------------------------------
   BUILD QR CARDS
------------------------------------ */
function generateAllQRs() {
  const grid = document.getElementById("qrGrid");
  grid.innerHTML = "";

  for (let i = 1; i <= TOTAL_STALLS; i++) {
    const url = BASE_URL + i;

    const card = document.createElement("div");
    card.className = "qr-card";

    const label = document.createElement("div");
    label.className = "stall-label";
    label.textContent = `Stall ${i}`;

    const canvas = document.createElement("canvas");
    canvas.id = "qr" + i;

    const qr = new QRious({
      element: canvas,
      size: 200,
      value: url,
      level: "H"
    });

    const btn = document.createElement("button");
    btn.className = "download-btn";
    btn.textContent = "Download QR";

    btn.onclick = () => {
      const link = document.createElement("a");
      link.download = `stall-${i}-qr.png`;
      link.href = canvas.toDataURL("image/png");
      link.click();
    };

    card.appendChild(label);
    card.appendChild(canvas);
    card.appendChild(btn);

    grid.appendChild(card);
  }
}

generateAllQRs();
</script>

</body>
</html>
