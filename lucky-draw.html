<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>CMC IRIA â€“ Lucky Draw</title>

<style>
  body{
    margin:0;
    height:100vh;
    background:#020617;
    color:#f8fafc;
    font-family:system-ui, -apple-system, Segoe UI, Roboto, Arial;
    display:flex;
    align-items:center;
    justify-content:center;
    overflow:hidden;
  }

  body::before{
    content:"";
    position:fixed;
    inset:0;
    background:
      radial-gradient(800px 400px at 20% 10%, rgba(56,189,248,0.15), transparent 60%),
      radial-gradient(600px 300px at 80% 80%, rgba(34,197,94,0.12), transparent 60%);
    z-index:-1;
  }

  .wrap{
    display:flex;
    gap:32px;
    padding:40px;
    border-radius:22px;
    background:rgba(255,255,255,0.10);
    backdrop-filter:blur(16px);
    border:1px solid rgba(255,255,255,0.25);
    box-shadow:0 30px 60px rgba(0,0,0,0.45);
    max-width:1050px;
  }

  /* LEFT: DRAW */
  .draw{
    min-width:440px;
    text-align:center;
  }

  .logos{
    display:flex;
    justify-content:space-between;
    margin-bottom:20px;
  }

  .logos img{ height:56px; }

  h1{
    margin:10px 0 6px;
    font-size:1.9rem;
  }

  .sub{
    opacity:0.8;
    margin-bottom:26px;
  }

  #slot{
    font-size:2rem;
    font-weight:700;
    padding:26px 32px;
    border-radius:18px;
    background:rgba(255,255,255,0.14);
    border:1px solid rgba(255,255,255,0.3);
    min-height:68px;
    display:flex;
    align-items:center;
    justify-content:center;
    transition:box-shadow .3s, color .3s;
  }

  #slot.winner{
    color:#22c55e;
    box-shadow:0 0 40px rgba(34,197,94,0.9);
  }

  button{
    margin-top:30px;
    padding:14px 34px;
    font-size:1.05rem;
    font-weight:700;
    border-radius:999px;
    border:none;
    background:#38bdf8;
    color:#022c44;
    cursor:pointer;
  }

  button:disabled{
    opacity:0.5;
    cursor:not-allowed;
  }

  /* RIGHT: COMPLETERS LIST */
  .list{
    width:360px;
    padding:20px;
    border-radius:16px;
    background:rgba(255,255,255,0.08);
    border:1px solid rgba(255,255,255,0.2);
    overflow:auto;
    max-height:440px;
  }

  .list h3{
    margin:0 0 8px;
    font-size:1.1rem;
    text-align:center;
  }

  .list p{
    text-align:center;
    font-size:0.85rem;
    opacity:0.75;
    margin-bottom:12px;
  }

  .name{
    padding:6px 8px;
    border-bottom:1px dashed rgba(255,255,255,0.15);
    font-size:0.95rem;
    transition:background .3s,color .3s;
  }

  /* HIGHLIGHT WINNER */
  .name.winner{
    color:#22c55e;
    font-weight:700;
    background:rgba(34,197,94,0.12);
    border-radius:6px;
  }

  /* STRIKE AFTER WIN */
  .name.strike{
    text-decoration:line-through;
    opacity:0.5;
  }

  /* CONFETTI */
  .confetti{
    position:fixed;
    width:8px;
    height:8px;
    top:-10px;
    animation:fall linear forwards;
  }

  @keyframes fall{
    to{
      transform:translateY(110vh) rotate(720deg);
      opacity:0;
    }
  }
</style>
</head>

<body>

<div class="wrap">

  <!-- LEFT: DRAW -->
  <div class="draw">
    <div class="logos">
      <img src="assets/iria2025.png" alt="IRIA">
      <img src="assets/cmc.png" alt="CMC">
    </div>

    <h1>ðŸŽ‰ Lucky Draw ðŸŽ‰</h1>
    <div class="sub">Completed all 35 stalls</div>

    <div id="slot">Ready</div>

    <button id="spinBtn">SPIN</button>
  </div>

  <!-- RIGHT: LIST -->
  <div class="list">
    <h3>Completed All 35</h3>
    <p>Eligible participants</p>
    <div id="nameList"></div>
  </div>

</div>

  <audio id="drum"
       src="https://assets.mixkit.co/sfx/preview/mixkit-drum-roll-566.mp3"
       preload="auto"></audio>

<audio id="boom"
       src="https://assets.mixkit.co/sfx/preview/mixkit-firework-burst-2810.mp3"
       preload="auto"></audio>

<script>
/* =====================================================
   ELIGIBLE PARTICIPANTS (COMPLETED ALL 35)
   ===================================================== */
const names = [
  "Ben Roshan",
  "Reina Jerusha",
  "Kabir Khader Eliyas",
  "Steven Lionel",
  "Dhinesh Kumar S",
  "Jagdeesh",
  "Deepthi Rekha",
  "Janet Vinoline",
  "Joshua R",
  "Gopinathan",
  "Cynthia Susan John",
  "Shreyosi Santra",
  "Rashi Goyal",
  "Lingala Joel Prathap Raju",
  "Arun S R",
  "Prajesh Adhiban",
  "SHYJUMON GEORGE",
  "Reettika Chanda",
  "Pavithkumar S",
  "Kalaipradha",
  "Namitha Varghese",
  "WANBOKLANG NONGSIEJ"
];

/* ===================================================== */

let remaining = [...names];

const slot = document.getElementById("slot");
const btn = document.getElementById("spinBtn");
const listEl = document.getElementById("nameList");
  const drum = document.getElementById("drum");
const boom = document.getElementById("boom");


/* Build side list */
const nameEls = {};
names.forEach(n=>{
  const d = document.createElement("div");
  d.className = "name";
  d.textContent = n;
  listEl.appendChild(d);
  nameEls[n] = d;
});

btn.onclick = spin;

function spin(){
  if(remaining.length === 0){
    alert("All winners already selected");
    return;
  }

  btn.disabled = true;
  slot.classList.remove("winner");
  // ðŸ”Š Start drum roll
drum.currentTime = 0;
drum.volume = 0.6;
drum.play().catch(()=>{});


  let ticks = 0;
  let speed = 80;
  let current = remaining[0];

  const timer = setInterval(()=>{
    current = remaining[Math.floor(Math.random()*remaining.length)];
    slot.textContent = current;
    ticks++;

    if(ticks > 25) speed += 18;
    if(ticks > 42){
  clearInterval(timer);

  // ðŸ”Š Stop drum roll
  drum.pause();
  drum.currentTime = 0;

  declareWinner(current);
}

  }, speed);
}

function declareWinner(name){
  slot.textContent = name;
  slot.classList.add("winner");
  // ðŸ”Š Firework sound
boom.currentTime = 0;
boom.volume = 0.7;
boom.play().catch(()=>{});

  launchConfetti();

  const el = nameEls[name];
  if(el){
    el.classList.add("winner","strike");
  }

  remaining = remaining.filter(n => n !== name);
  btn.disabled = false;
}

function launchConfetti(){
  for(let i=0;i<120;i++){
    const c = document.createElement("div");
    c.className = "confetti";
    c.style.left = Math.random()*100 + "vw";
    c.style.background = `hsl(${Math.random()*360},80%,60%)`;
    c.style.animationDuration = (2 + Math.random()*2) + "s";
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),4000);
  }
}

</script>

</body>
</html>
